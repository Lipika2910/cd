%{
#include <stdio.h>

int words = 0;
int chars = 0;
int spaces = 0;
int lines = 0;
%}

%%

[0-9A-Za-z_]+   { words++; chars += yyleng; }

" "             { spaces++; chars++; }

"\t"            { chars++; }

"\n"            { lines++; chars++; }

.               { chars++; }

%%

int yywrap() { return 1; }

int main(int argc, char *argv[])
{
    if(argc > 1)
        yyin = fopen(argv[1], "r");

    yylex();

    printf("\n----- RESULT -----\n");
    printf("Characters : %d\n", chars);
    printf("Words      : %d\n", words);
    printf("Spaces     : %d\n", spaces);
    printf("Lines      : %d\n", lines);

    return 0;
}


//run
lex practical1.l
gcc lex.yy.c -o practical1
./practical1